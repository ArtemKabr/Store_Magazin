{% extends "catalog/base.html" %}
{% load form_extras %}
{% block content %}
<div class="row g-4">
  <div class="col-lg-6">
    <div class="p-4 bg-white rounded-3 shadow-sm">
      <h2 class="h5 mb-3">Контакты</h2>

      {% if contacts %}
        <ul class="list-unstyled mb-3">
          {% if contacts.email %}<li><strong>Email:</strong> {{ contacts.email }}</li>{% endif %}
          {% if contacts.phone %}<li><strong>Телефон:</strong> {{ contacts.phone }}</li>{% endif %}
          {% if contacts.address %}<li><strong>Адрес:</strong> {{ contacts.address }}</li>{% endif %}
          {% if contacts.working_hours %}<li><strong>Время работы:</strong> {{ contacts.working_hours }}</li>{% endif %}
        </ul>

        {% if contacts.map_embed %}
          <div class="ratio ratio-16x9">
            {{ contacts.map_embed|safe }}
          </div>
        {% endif %}
      {% else %}
        <div class="alert alert-info mb-0">Контактные данные ещё не заполнены. Добавьте запись в админке.</div>
      {% endif %}
    </div>
  </div>

  <div class="col-lg-6">
    <div class="p-4 bg-white rounded-3 shadow-sm">
      <h2 class="h5 mb-3">Обратная связь</h2>
      {% if success %}<div class="alert alert-success">Спасибо! Сообщение отправлено.</div>{% endif %}
      <form method="post" action="{% url 'catalog:contacts' %}">{% csrf_token %}
        <div class="mb-3">
          <label class="form-label" for="id_name">Имя</label>
          {{ form.name|add_class:"form-control" }}
        </div>
        <div class="mb-3">
          <label class="form-label" for="id_email">Email</label>
          {{ form.email|add_class:"form-control" }}
        </div>
        <div class="mb-3">
          <label class="form-label" for="id_message">Сообщение</label>
          {{ form.message|add_class:"form-control" }}
        </div>
        <button type="submit" class="btn btn-primary">Отправить</button>
      </form>
    </div>
  </div>
</div>
{% endblock %}
